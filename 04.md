**Задание 1**
1.Возьмите из демонстрации к лекции готовый код для создания ВМ с помощью remote-модуля.
2.Создайте 1 ВМ, используя данный модуль. В файле cloud-init.yml необходимо использовать переменную для ssh ключа вместо хардкода. Передайте ssh-ключ в функцию template_file в блоке vars ={} . Воспользуйтесь примером. Обратите внимание что ssh-authorized-keys принимает в себя список, а не строку!
3.Добавьте в файл cloud-init.yml установку nginx.
4.Предоставьте скриншот подключения к консоли и вывод команды sudo nginx -t.

Создан модуль test-vm:

![hw04_1-1](img/hw04_1-1.png)

Настройки для установки и поднятия nginx:

![hw04_1-2](img/hw04_1-2.png)

Проверяем что nginx запустился:

![hw04_1-3](img/hw04_1-3.png)

Yandex cloud, что всё запустилось:

![hw04_1-4](img/hw04_1-4.png)

**Задание 2**

1.Напишите локальный модуль vpc, который будет создавать 2 ресурса: одну сеть и одну подсеть в зоне, объявленной при вызове модуля, например: ru-central1-a.
2.Вы должны передать в модуль переменные с названием сети, zone и v4_cidr_blocks.

![hw04_2-1](img/hw04_2-1.png)

![hw04_2-2](img/hw04_2-2.png)

3.Модуль должен возвращать в root module с помощью output информацию о yandex_vpc_subnet. 

![hw04_2-3](img/hw04_2-3.png)

4.Замените ресурсы yandex_vpc_network и yandex_vpc_subnet созданным модулем. Не забудьте передать необходимые параметры сети из модуля vpc в модуль с виртуальной машиной.

![hw04_2-4](img/hw04_2-4.png)

5.Откройте terraform console и предоставьте скриншот содержимого модуля. Пример: > module.vpc_dev.

![hw04_2-5](img/hw04_2-5.png)

6.Сгенерируйте документацию к модулю с помощью terraform-docs.

![hw04_2-6](img/hw04_2-6.png)

**Задание 3**

1.Выведите список ресурсов в стейте.

![hw04_3-1](img/hw04_3-1.png)

2.Полностью удалите из стейта модуль vpc.
3.Полностью удалите из стейта модуль vm.

![hw04_3-2](img/hw04_3-2.png)

4.Импортируйте всё обратно. Проверьте terraform plan. Изменений быть не должно.

![hw04_3-3](img/hw04_3-3.png)

![hw04_3-4](img/hw04_3-4.png)

